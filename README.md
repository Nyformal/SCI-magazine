# SCI-magazine
rank_batch_top50_single.py
Скрипт для ранжирования и построения top-50 источников по входным embeddings. Работает с одной моделью (single-vector) и учитывает годовые ограничения.

rank_batch_top50_multi.py
Скрипт для ранжирования и построения top-50 источников с использованием мультивекторных моделей (несколько прототипов на источник).

split_by_year_ranges.py
Служебный скрипт: разбивает общий JSONL с публикациями по годам на отдельные файлы (2019.jsonl, 2020.jsonl, …) для последующей обработки.

aggregate_sources.py
Скрипт для агрегации эмбеддингов публикаций в одно векторное представление на уровне источника (журнал/конференция).

aggregate_sources_multi.py
Скрипт для мультивекторной агрегации эмбеддингов по источникам. Формирует несколько прототипов на источник (кластеризация, PCA, soft k-means, годовая стратификация и др.).

build_top1000.py
Скрипт для построения top-1000 публикаций по каждому запросу с учётом годовых фильтров. Используется как промежуточный этап перед сворачиванием в источники.

extract_test_embeddings.py
Служебный скрипт: извлекает эмбеддинги для тестового множества публикаций из исходных данных и сохраняет в отдельный JSONL.

make_top_with_text.py
Служебный скрипт: формирует топ-списки публикаций/источников с добавлением текстов (аннотаций) в выдачу для последующего анализа.

nn_topk_by_year_faiss.py
Скрипт для поиска ближайших соседей (top-K публикаций) с использованием FAISS. Поддерживает GPU и разбиение по годам.

evaluator.py
Скрипт для расчёта метрик качества (MRR@5/10, HR@K) по предсказаниям и эталону; формирует сводные таблицы для журналов и конференций.

extract_unique_id_texts.py
Служебный скрипт: извлекает уникальные идентификаторы из результатов и подтягивает тексты (аннотации/названия) для последующего анализа.

inputer.py
Служебный скрипт: выгружает из БД поля id, source_id, date_year, нормализует тип источника и формирует исходные JSONL для журналов и конференций.

make_source_id_lists.py
Скрипт для группировки публикаций по source_id; строит списки идентификаторов на источник и сохраняет их в JSONL.

make_test_ids.py
Служебный скрипт: формирует тестовые множества по правилам отбора (1 из групп 5–10; 10% из групп >10) с фиксированным seed для воспроизводимости.

metrics.xlsx
Справочный файл со сводными расчётами и итоговыми таблицами метрик для отчёта.

slice_from_id.py
Скрипт для свёртки ранжированного списка публикаций в оценки по источникам методом SLICE (срезы, веса, убывающая отдача, нормировка, лимиты).

reranked_2_rescored.py
Скрипт для повторной обработки списков публикаций после реранкера. Преобразует исходные top-1000 публикаций с оценками (0–5) в пересортированные списки с учётом новых score и сохраняет результат для дальнейшего агрегирования на уровень источников.

top1000_to_top50_slice.py
Скрипт для сведения top-1000 публикаций к top-50 источникам методом SLICE. Поддерживает настройку порогов срезов, весов, нормализации, функции убывающей отдачи и бонуса за ранний хит. Работает с одним методом и сохраняет один выходной файл.

top1000_to_top50_sources.py
Скрипт для сведения top-1000 публикаций к top-50 источникам с использованием разных агрегаторов (RRF, RRF_MinRank, DCG, BORDA, NoisyOR, FirstHit, Slice и др.). Автоматически сохраняет отдельный JSONL для каждого метода с добавлением суффикса в имя файла.
